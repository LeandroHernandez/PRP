<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<header>
	<div class="white-header">
		<ul class="list-unstyled">
			<li>
				<img src="../../../assets/img/Landingpage/log1.png" alt="dydactico logo" width="112" height="28">
			</li>
			<li style="border-right: 3px solid #1681FF;">&nbsp;</li>
			<li>
				<img class="img-plans" src="../../../assets/img/student.png"><span style="font-weight: bold">Individual</span>
			</li>
		</ul>
	</div>
	<div class="blue-header">
		<div class="blue-header-text">
			Es una modalidad en la que el padre de familia, de manera libre define las competencias que desea que su hijo/a desarrolle, escoge los contenidos, de apoyo y ritmos según las necesidades particulares del niño.
			Este programa no tiene ninguna validación o certificación ya que estaria dispuesto como material de apoyo en el desarrollo de las destrezas del alumno.
		</div>
	</div>
</header>
<!-- content -->
<div class="main-content">
	<div class="col-md-6">
		<div class="card">
			<!-- <img src="../../../../assets/img/Landingpage/log1.png" alt="" style="width: 20vh;"> -->
			<mat-horizontal-stepper [linear]="isLinear">
				<!-- nivel -->
				<mat-step>
					<ng-template matStepLabel>Selecciona un nivel</ng-template>
					<mat-selection-list multiple="false" #shoes *ngIf="grades.length > 0" (selectionChange)="setSelectedGrade(shoes.selectedOptions.selected)">
						<mat-list-option *ngFor="let grade of grades" [value]="grade" >
							{{grade.grade_name}}
						</mat-list-option>
					</mat-selection-list>
					<div style="float: right">
						<button type="button" class="btn btn-next"
						        [disabled]="!isSelectedGrade"
						        matStepperNext>Siguiente
						</button>
					</div>
				</mat-step>
				<!-- planes -->
				<mat-step>
					<ng-template matStepLabel>Plan</ng-template>
					<div class="card card-plan" [class.is-plan-selected]="plan.active"*ngFor="let plan of planes" (click)="setSelectedPlan(plan)">
						<div class="row">
							<div class="col-md-6 card-plan-left">
								<h1>plan {{plan.plan_name}}</h1>
								<br>
								<h3>$ {{plan.plan_price}}</h3>
							</div>
							<div class="col-md-6 card-plan-right">
								<ul class="list-unstyled">
									<li><i class="fa fa-desktop"></i> Material disponible para el nivel seleccionado.</li>
									<li><i class="fa fa-clock-o"></i>Material disponible durante las 24 horas.</li>
									<li><i class="fa fa-check-circle-o"></i>Material disponible para el nivel seleccionado.</li>
								</ul>
							</div>
						</div>
					</div>¿
					<div style="float: right">
						<button type="button" class="btn btn-previous" matStepperPrevious>Atrás</button>
						<button type="button" class="btn btn-next"
						        [disabled]="!isSelectedPlan"
						        matStepperNext>Siguiente</button>
					</div>
				</mat-step>
				<!-- datos -->
				<mat-step [stepControl]="studentForm && representativeForm">
					<ng-template matStepLabel>Datos</ng-template>
					<!-- representante -->
					<h3>Datos del Representante</h3>
					<form autocomplete="off" [formGroup]="representativeForm">
						<div class="row">
							<div class="form-group col-md-6 register-form-input"
							     [class.has-error]="(representative_name.dirty || representative_name.touched) && representative_name.invalid">
								<label for="inputrepresentativeName">Nombres</label>
								<input type="text" class="form-control" id="inputrepresentativeName"
								       formControlName="representative_name">
								<small
										*ngIf="(representative_name.dirty || representative_name.touched) && representative_name.invalid && representative_name.errors.required"
										class="text-danger">
									Nombre es requerido
								</small>
							
							</div>
							<div class="form-group col-md-6 register-form-input"
							     [class.has-error]="(representative_surname.dirty || representative_surname.touched) && representative_surname.invalid">
								<label for="inputrepresentativeSurname">Apellidos</label>
								<input type="text" class="form-control" id="inputrepresentativeSurname"
								       formControlName="representative_surname">
								<small
										*ngIf="(representative_surname.dirty || representative_surname.touched) && representative_surname.invalid && representative_surname.errors.required"
										class="text-danger">
									Apellido es requerido
								</small>
							</div>
						</div>
						<div class="row">
							<div class="form-group col-md-6 register-form-input"
							     [class.has-error]="(representative_email.dirty || representative_email.touched) && representative_email.invalid">
								<label for="inputrepresentativeEmail">Correo</label>
								<input [(ngModel)]="representative_emaill" type="email" class="form-control" id="inputrepresentativeEmail"
								       formControlName="representative_email">
								<small
										*ngIf="(representative_email.dirty || representative_email.touched) && representative_email.invalid && representative_email.errors.required"
										class="text-danger">
									Correo es requerido
								</small>
								<small
										*ngIf="(representative_email.dirty || representative_email.touched) && representative_email.invalid && representative_email.errors.pattern"
										class="text-danger">
									Formato de correo incorrecto
								</small>
							</div>
							<div class="form-group col-md-6 register-form-input"
							     [class.has-error]="(representative_phone.dirty || representative_phone.touched) && representative_phone.invalid">
								<label for="inputrepresentativePhone">Teléfono</label>
								<input type="text" class="form-control" id="inputrepresentativePhone"
								       formControlName="representative_phone">
								<small
										*ngIf="(representative_phone.dirty || representative_phone.touched) && representative_phone.invalid && representative_phone.errors.required"
										class="text-danger">
									Teléfono es requerido
								</small>
								<small
										*ngIf="(representative_phone.dirty || representative_phone.touched) && representative_phone.invalid && representative_phone.errors.pattern"
										class="text-danger">
									Formato de teléfono incorrecto
								</small>
								<small
										*ngIf="(representative_phone.dirty || representative_phone.touched) && representative_phone.invalid && representative_phone.errors.minlength"
										class="text-danger">
									Teléfono demasiado corto
								</small>
							</div>
						</div>
						<div class="row">
							<div class="form-group col-md-6 register-form-input"
							     [class.has-error]="(representative_pass1.dirty || representative_pass1.touched) && representative_pass1.invalid">
								<label for="inputrepresentativePass1">Contraseña</label>
								<input type="password" class="form-control" id="inputrepresentativePass1"
								       formControlName="representative_pass1">
								<small
										*ngIf="(representative_pass1.dirty || representative_pass1.touched) && representative_pass1.invalid && representative_pass1.errors.required"
										class="text-danger">
									Contraseña es requerida
								</small>
							</div>
							<div class="form-group col-md-6 register-form-input"
							     [class.has-error]="representative_pass2_not_valid">
								<label for="inputrepresentativePass2">Confirmar Contraseña</label>
								<input type="password" class="form-control" id="inputrepresentativePass2"
								       formControlName="representative_pass2">
								<small *ngIf="representative_pass2_not_valid" class="text-danger">
									Contraseñas deben ser iguales
								</small>
							</div>
						</div>
					</form>
					<!-- estudiante -->
					<h3>Datos del Estudiante</h3>
					<form autocomplete="off" [formGroup]="studentForm">
						<div class="row">
							<div class="form-group col-md-6 register-form-input"
							     [class.has-error]="(student_name.dirty || student_name.touched) && student_name.invalid">
								<label for="inputStudentName">Nombres</label>
								<input type="text" class="form-control" id="inputStudentName"
								       formControlName="student_name" [(ngModel)]="studentD.student_name">
								<small
										*ngIf="(student_name.dirty || student_name.touched) && student_name.invalid && student_name.errors.required"
										class="text-danger">
									Nombre es requerido
								</small>
							</div>
							<div class="form-group col-md-6 register-form-input"
							     [class.has-error]="(student_lastname.dirty || student_lastname.touched) && student_lastname.invalid">
								<label for="inputStudentSurname">Apellidos</label>
								<input type="text" class="form-control" id="inputStudentSurname"
								       formControlName="student_lastname" [(ngModel)]="studentD.student_lastname">
								<small
										*ngIf="(student_lastname.dirty || student_lastname.touched) && student_lastname.invalid && student_lastname.errors.required"
										class="text-danger">
									Apellido es requerido
								</small>
							
							</div>
						</div>
						<div class="row">
							<div class="form-group col-md-6 register-form-input"
							     [class.has-error]="(student_email.dirty || student_email.touched) && student_email.invalid">
								<label for="inputStudentEmail">Correo</label>
								<input type="email" class="form-control" id="inputStudentEmail"
								       formControlName="student_email" [(ngModel)]="studentD.student_email">
								<small
										*ngIf="(student_email.dirty || student_email.touched) && student_email.invalid && student_email.errors.required"
										class="text-danger">
									Correo es requerido
								</small>
								<small
										*ngIf="(student_email.dirty || student_email.touched) && student_email.invalid && student_email.errors.pattern"
										class="text-danger">
									Formato de correo incorrecto
								</small>
							</div>
							<div class="form-group col-md-6 register-form-input"
							     [class.has-error]="(student_phone.dirty || student_phone.touched) && student_phone.invalid">
								<label for="inputStudentPhone">Teléfono</label>
								<input type="text" class="form-control" id="inputStudentPhone"
								       formControlName="student_phone" [(ngModel)]="studentD.student_phone">
								<small
										*ngIf="(student_phone.dirty || student_phone.touched) && student_phone.invalid && student_phone.errors.required"
										class="text-danger">
									Teléfono es requerido
								</small>
								<small
										*ngIf="(student_phone.dirty || student_phone.touched) && student_phone.invalid && student_phone.errors.pattern"
										class="text-danger">
									Formato de teléfono incorrecto
								</small>
								<small
										*ngIf="(student_phone.dirty || student_phone.touched) && student_phone.invalid && student_phone.errors.minlength"
										class="text-danger">
									Teléfono demasiado corto
								</small>
							</div>
						</div>
						<div class="row">
							<div class="form-group col-md-6 register-form-input">
								<label for="inputStudentPass1">Contraseña</label>
								<input type="password" class="form-control" id="inputStudentPass1"
								       formControlName="student_pass" [(ngModel)]="studentD.student_pass">
								<small
										*ngIf="(student_pass.dirty || student_pass.touched) && student_pass.invalid && student_pass.errors.required"
										class="text-danger">
									Contraseña es requerida
								</small>
							</div>
							<div class="form-group col-md-6 register-form-input"
							     [class.has-error]="student_pass2_not_valid">
								<label for="inputStudentPass2">Confirmar Contraseña</label>
								<input type="password" class="form-control" id="inputStudentPass2"
								       formControlName="student_pass1">
								<small *ngIf="student_pass2_not_valid" class="text-danger">
									Contraseñas deben ser iguales
								</small>
							</div>
						</div>
					</form>
					<div style="float: right">
						<button type="button" class="btn btn-previous" matStepperPrevious>Atrás</button>
						<button type="button" class="btn btn-next"
						        matStepperNext>Siguiente</button>
					</div>
				</mat-step>
				<!-- pago -->
				<mat-step>
					<ng-template matStepLabel>Pago</ng-template>
					<div class="card">
						<h3>Seleccione su forma de pago</h3>
						<p>Por el momento, el uso de la plataforma es gratuito.</p>
					</div>
					<div style="float: right">
						<button type="button" class="btn btn-previous" matStepperPrevious>Atrás</button>
						<button type="button" class="btn btn-next"
						        (click)="checkForm( representativeForm ); checkForm( studentForm )"
						        matStepperNext>Siguiente</button>
					</div>
				</mat-step>
				<!-- fin -->
				<mat-step>
					<ng-template matStepLabel>Finalizar</ng-template>
					<div class="text-center">
						<h1>Bienvenido</h1>
						<hr>
						<p class="text-center">
									<span>
										Para finalizar el registro exitosamente presione el botón Finalizar! <br>
										Y podrás ingresar a tu cuenta para disfrutar de la experiencia dydactico.
									</span>
						</p>
					</div>
					<hr>
					<div class="row text-center p-5">
						<div class="col-sm-6">
							<button class="btn btn-fill btn-lg p-3 m-3" matStepperPrevious>Atrás</button>
						</div>
						<div class="col-sm-6">
							<button class="btn btn-final"
							        (click)="saveInfo()">Finalizar</button>
						</div>
					</div>
				</mat-step>
			</mat-horizontal-stepper>
		</div>
	</div>
	<!-- info -->
	<div class="col-md-6">
		<div class="card card-info">
			<ul class="list-unstyled list-info">
				<li class="list-info-item">
					<span class="list-number">1</span> Seleccione el nivel escolar del cual desea acceder a su contenido.
				</li>
				<li class="list-info-item">
					<span class="list-number">2</span> Seleccione el plan, para por cual desea tener activo su contenido
				</li>
				<li class="list-info-item">
					<span class="list-number">3</span> Registre los datos del Alumno que va a usar la plataforma.
				</li>
				<li class="list-info-item">
					<span class="list-number">4</span> Ingrese un método de pago.
				</li>
			</ul>
		</div>
		<div class="card card-info">
			<h3>Detalles de la compra</h3>
			<table class="table">
				<tr>
					<td>
						<strong>Material:</strong>
					</td>
					<td>{{selectedGrade['grade_name'] || '-'}}</td>
				</tr>
				<tr>
					<td>
						<strong>Plan:</strong>
					</td>
					<td>{{selectedPlan['plan_name'] || '-'}}</td>
				</tr>
				<tr>
					<td>
						<strong>Representante:</strong>
					</td>
					<td>{{this.representativeForm.get('representative_name').value || '-'}}</td>
				</tr>
				<tr>
					<td>
						<strong>Alumno:</strong>
					</td>
					<td>{{this.studentForm.get('student_name').value || '-'}}</td>
				</tr>
				<tr>
					<td>
						<strong>Total:</strong>
					</td>
					<td>$ 0.00</td>
				</tr>
			</table>
		</div>
	</div>
</div>
