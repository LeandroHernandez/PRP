
<div class="container-fluid">
    <app-import-teachers></app-import-teachers>
    <div style="display: flex; flex-direction: row;justify-content: flex-end; margin: 15px;">
        <button type="submit" class="btn btn-primary btn-fill" data-toggle="modal" data-target="#exampleModalCenter"
            (click)="addTeacher(teacher)">
            <i class="fa fa-plus"></i>   Agregar Docente
        </button>
    </div>

    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document" style="width: 80%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ isEdit == false ? 'REGISTRAR DOCENTE' : 'EDITAR DOCENTE'  }}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="content">
                                <form #formularioteacher="ngForm" method="get" action="/" class="form-horizontal"
                                    novalidate
                                    (ngSubmit)="saveTeacher(formularioteacher.value, formularioteacher.valid)">
                                    <div class="form-group p-5">
                                        <div class="col-sm-12">
                                            <label class="control-label">ID<span class="star">*</span></label>
                                            <input readonly id="teacher_id" type="text" class="form-control"
                                                name="teacher_id" placeholder="ej. Inicial" [ngModel]="teacher.teacher_id"
                                                required #teacher_id="ngModel">
                                            <small
                                                [hidden]="teacher_id.valid || (teacher_id.pristine && !formularioteacher.submitted)"
                                                class="text-danger">
                                                Obligatorio
                                            </small>
                                        </div>
                                        <div class="col-sm-12">
                                            <label class="control-label">IDENTIFICACIÓN<span class="star">*</span></label>
                                            <input id="teacher_identification" type="number" class="form-control"
                                                name="teacher_identification" placeholder="ej. Inicial"
                                                [ngModel]="teacher.teacher_identification" required #teacher_identification="ngModel">
                                            <small
                                                [hidden]="teacher_identification.valid || (teacher_identification.pristine && !formularioteacher.submitted)"
                                                class="text-danger">
                                                Obligatorio /<i> sin carácteres especiales </i>
                                            </small>
                                        </div>
                                        <div class="col-sm-12">
                                            <label class="control-label">NOMBRE<span class="star">*</span></label>
                                            <input id="teacher_name" type="text" class="form-control"
                                                name="teacher_name" placeholder="ej. Inicial"
                                                [ngModel]="teacher.teacher_name" required #teacher_name="ngModel">
                                            <small
                                                [hidden]="teacher_name.valid || (teacher_name.pristine && !formularioteacher.submitted)"
                                                class="text-danger">
                                                Obligatorio /<i> sin carácteres especiales </i>
                                            </small>
                                        </div>
                                        <div class="col-sm-12">
                                            <label class="control-label">APELLIDO<span class="star">*</span></label>
                                            <input id="teacher_surname" type="text" class="form-control"
                                                name="teacher_surname" placeholder="ej. Inicial"
                                                [ngModel]="teacher.teacher_surname" required #teacher_surname="ngModel">
                                            <small
                                                [hidden]="teacher_surname.valid || (teacher_surname.pristine && !formularioteacher.submitted)"
                                                class="text-danger">
                                                Obligatorio /<i> sin carácteres especiales </i>
                                            </small>
                                        </div>
                                        <div class="col-sm-12">
                                            <label class="control-label">EMAIL<span class="star">*</span></label>
                                            <input id="teacher_email" type="text" class="form-control"
                                                name="teacher_email" placeholder="ej. Inicial"
                                                [ngModel]="teacher.teacher_email" required #teacher_email="ngModel" pattern="^[a-z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\.[a-z0-9-]+)*$">
                                            <small
                                                [hidden]="teacher_email.valid || (teacher_email.pristine && !formularioteacher.submitted)"
                                                class="text-danger">
                                                Obligatorio /<i> sin carácteres especiales ni letras mayusculas.</i>
                                            </small>
                                        </div>
                                        
                                    <div class="checkbox col-sm-12">
                                        <!-- <label class="control-label">Estado<span
                                            class="star">*</span></label> -->
                                        <div class="checkbox">
                                            <input  id="teacher_status" name="teacher_status"
                                                [ngModel]="teacher.teacher_status" [value]="false"
                                                type="checkbox">
                                            <label class="" for="teacher_status">
                                            </label>HABILITAR O DESHABILITAR PROFESOR
                                        </div>
                                    </div>
                                        <div class="col-sm-12">
                                            <button type="submit"
                                                class="btn btn-success btn-fill">{{ isEdit == false ? 'AGREGAR' : 'EDITAR'  }}</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-fill btn-xs btn-danger btn-icon"
                    data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="content">
                    Listado de docentes
                    <hr>
                    <div class="fresh-datatables table-responsive">
                        <table id="datatablesTeacher"  class="table table-striped table-no-bordered table-hover"
                        cellspacing="0" width="100%" style="width:100%">
                            <thead>
                                <tr>
       
                                        <th class="text-center">ID</th>
                                        <th class="text-center">IDENTIFICACIÓN</th>
                                        <th class="text-center">NOMBRE</th>
                                        <th class="text-center">APELLIDO</th>
                                        <th class="text-center">EMAIL</th>
                                        <th class="text-center">ESTADO</th>
                                        <th class="text-center">OPCIONES</th>
                                   
                                </tr>
                            </thead>

                            <tbody id="tBodyLevel">
                                <tr *ngFor="let teacher of arrayTeachers">
                                    <td>{{teacher.teacher_id}}</td>
                                    <td>{{teacher.teacher_identification}}</td>
                                    <td>{{teacher.teacher_name}}</td>
                                    <td>{{teacher.teacher_surname}}</td>
                                    <td>{{teacher.teacher_email}}</td>

                                    <td>
                                        <ng-container *ngIf="teacher.teacher_pass!='' && teacher.teacher_pass!=null; else elseEstado">
                                            <button class="btn btn-success btn-fill btn-xs">
                                                <i class="fa fa-check"></i>
                                            </button>
                                        </ng-container>
                                        <ng-template #elseEstado>
                                            <button class="btn btn-danger btn-fill btn-xs">
                                                <i class="fa fa-close"></i>
                                            </button>
                                        </ng-template>

                                    </td>
                                    <td class="text-right">
                                        <div class="btn-group">
                                            <button (click)="editTeacher(teacher)"
                                                class="btn btn-fill btn-xs btn-warning btn-icon" data-toggle="modal"
                                                data-target="#exampleModalCenter">
                                                <i class="fa fa-edit"></i>
                                            </button>
                                            <button (click)="deleteTeacher(teacher)"
                                                class="btn btn-fill btn-xs btn-danger btn-icon">
                                                <i class="fa fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
